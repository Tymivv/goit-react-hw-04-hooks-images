{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/App/App.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/servises/articlesApi.jsx","components/App/App.jsx","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","image","setImage","className","styles","searchbar","SearchForm","event","preventDefault","trim","toast","error","style","form","SearchForminput","type","name","value","onChange","currentTarget","toLowerCase","placeholder","SearchFormbutton","SearchFormbuttonlabel","modalRootRef","document","querySelector","Modal","onClose","largeimage","useEffect","onEscPress","e","code","window","addEventListener","removeEventListener","createPortal","backdrop","onClick","target","modal","src","alt","ImageGalleryItem","articles","map","id","webformatURL","largeImageURL","a","ImageGalleryItemimage","ImageGallery","openModal","setOpenModal","setLargeimage","openModalGallery","closest","getAttribute","Button","API_KEY","axios","defaults","baseURL","fetchData","page","queryOptions","URLSearchParams","key","q","image_type","orientation","safesearch","per_page","get","toString","data","App","setArticles","loader","setLoader","setPage","apiRequest","newArticles","hits","warn","message","length","console","log","img","color","height","width","timeout","prevPage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,SAAW,wBAAwB,MAAQ,uB,mBCA7DD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,aAAe,qC,wCCAjCD,EAAOC,QAAU,CAAC,IAAM,mB,kBCAxBD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,wJCmDjOC,EA7CG,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACnB,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAqBA,OACE,wBAAQC,UAAWC,IAAOC,UAA1B,SACE,uBACEF,UAAWC,IAAOE,WAClBP,SAhBe,SAAAQ,GACnBA,EAAMC,iBAEe,KAAjBP,EAAMQ,QAKVV,EAASE,GACTC,EAAS,KALPQ,IAAMC,MAAM,oHAaVC,MAAOR,IAAOS,KAHhB,UAKE,uBACEV,UAAWC,IAAOU,gBAClBC,KAAK,OACLC,KAAK,QACLC,MAAOhB,EACPiB,SA/BiB,SAAAX,GACvBL,EAASK,EAAMY,cAAcF,MAAMG,eAC/BnB,EAAMQ,QA8BJY,YAAY,6BAEd,yBAAQN,KAAK,SAASZ,UAAWC,IAAOkB,iBAAxC,UACG,cAAC,IAAD,IACD,sBAAMnB,UAAWC,IAAOmB,sBAAxB,6B,iBCzCJC,EAAeC,SAASC,cAAc,eAqC7BC,EAnCD,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,WACxBC,qBAAU,WACR,IAAMC,EAAa,SAAAC,GACF,WAAXA,EAAEC,MACJL,KAMJ,OAFAM,OAAOC,iBAAiB,UAAWJ,GAE5B,WACLG,OAAOE,oBAAoB,UAAWL,MAEvC,CAACH,IAQJ,OAAOS,uBACL,qBAAKlC,UAAWC,IAAOkC,SAAUC,QAPP,SAAAP,GACtBA,EAAEQ,SAAWR,EAAEb,eACjBS,KAKF,SACE,qBAAKzB,UAAWC,IAAOqC,MAAvB,SACE,qBAAKC,IAAKb,EAAYc,IAAI,YAG9BnB,I,iBCnBWoB,EAbU,SAAC,GACxB,OADyC,EAAfC,SACVC,KAAI,YAA0C,IAAvCC,EAAsC,EAAtCA,GAAIC,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,cACvC,OACE,oBAAI9C,UAAWC,IAAOwC,iBAA2BM,EAAGD,EAApD,SACE,qBACE9C,UAAWC,IAAO+C,sBAClBT,IAAKM,EACLL,IAAI,MAJqCI,O,iBCyBpCK,EAzBM,SAAC,GAAkB,IAAhBP,EAAe,EAAfA,SACtB,EAAkC7C,oBAAS,GAA3C,mBAAOqD,EAAP,KAAkBC,EAAlB,KACA,EAAoCtD,mBAAS,IAA7C,mBAAO6B,EAAP,KAAmB0B,EAAnB,KAaA,OACE,qCACE,oBAAIpD,UAAWC,IAAOgD,aAAcb,QAXpB,SAAAP,GAClB,GAAIA,EAAEQ,SAAWR,EAAEb,cAAnB,CAGA,IAAMqC,EAAmBxB,EAAEQ,OAAOiB,QAAQ,MAAMC,aAAa,KAC7DJ,GAAa,GACbC,EAAcC,KAKZ,SACE,cAAC,EAAD,CAAkBX,SAAUA,MAE7BQ,GAAa,cAAC,EAAD,CAAOzB,QAhBT,kBAAM0B,GAAa,IAgBQzB,WAAYA,Q,iBCjB1C8B,EANA,SAAC,GAAD,IAAGpB,EAAH,EAAGA,QAAH,EAAYtC,MAAZ,OACb,wBAAQc,KAAK,SAASwB,QAASA,EAASpC,UAAWC,IAAOuD,OAA1D,wB,kCCAIC,EAAO,qCACbC,IAAMC,SAASC,QAFD,2BAId,IAAMC,EAAS,uCAAG,WAAO/D,GAAP,iCAAAiD,EAAA,6DAAce,EAAd,+BAAqB,EAC/BC,EAAe,IAAIC,gBAAgB,CACvCC,IAAKR,EACLS,EAAGpE,EACHqE,WAAY,QACZC,YAAa,aACbC,YAAY,EACZC,SAAU,GACVR,SARc,kBAWSJ,IAAMa,IAAI,IAAMR,EAAaS,YAXtC,uBAWNC,EAXM,EAWNA,KAXM,kBAYPA,GAZO,uGAAH,sDAiBAZ,I,yBCgDAa,G,MA3DH,SAAC,GAAmB,IAAjBxB,EAAgB,EAAhBA,UACb,EAAgCrD,mBAAS,IAAzC,mBAAO6C,EAAP,KAAiBiC,EAAjB,KACA,EAA4B9E,oBAAS,GAArC,mBAAO+E,EAAP,KAAeC,EAAf,KACA,EAA0BhF,mBAAS,MAAnC,mBAAOW,EAAP,KACA,GADA,KAC0BX,mBAAS,KAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAwBF,mBAAS,GAAjC,mBAAOiE,EAAP,KAAagB,EAAb,KAOAnD,qBAAU,WACM,KAAV7B,GACJiF,MACC,CAACjF,EAAOgE,IAEX,IAIMiB,EAAU,uCAAG,4BAAAhC,EAAA,6DACjB8B,GAAU,GADO,kBAGWhB,EAAU/D,EAAOgE,GAH5B,cAGTkB,EAHS,OAIfL,EAAY,GAAD,mBAAKjC,GAAL,YAAkBsC,EAAYC,QAJ1B,kBAKRD,EAAYC,MALJ,gCAOf1E,IAAM2E,KAAN,UAAc,KAAMC,UAPL,yBASfN,GAAU,GAEc,IAApBnC,EAAS0C,QAA0B,KAAVtF,GAC3BS,IAAMC,MAAM,2GAZC,4EAAH,qDAiBhB,OACE,sBAAKR,UAAWC,IAAOU,gBAAvB,UACE,cAAC,EAAD,CAAWf,SAjCU,SAAAE,GACvBC,EAASD,GACTuF,QAAQC,IAAIxF,MAgCToD,GAAa,cAAC,EAAD,CAAOqC,IAAK7C,EAASI,gBAClCtC,GAAS,+DAAkCA,EAAM2E,WACjDP,GACC,cAAC,IAAD,CACEhE,KAAK,YACL4E,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,MAGZjD,EAAS0C,OAAS,GAAK,cAAC,EAAD,CAAc1C,SAAUA,IAC/CA,EAAS0C,OAAS,GAAK,cAAC,EAAD,CAAQtF,MAAOA,EAAOsC,QApChC,WAChB0C,GAAQ,SAAAc,GAAQ,OAAIA,EAAW,QAoC7B,cAAC,IAAD,CAAgBC,UAAW,WC7DjCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF1E,SAAS2E,eAAe,W","file":"static/js/main.e3d40afa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__19iaz\",\"modal\":\"Modal_modal__2VViG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3bpBZ\",\"ImageGalleryItemimage\":\"ImageGalleryItem_ImageGalleryItemimage__1xsbi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2BDTl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2TL3l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2DBfT\",\"SearchForm\":\"Searchbar_SearchForm__2HHS5\",\"SearchFormbutton\":\"Searchbar_SearchFormbutton__lxTZY\",\"SearchFormbuttonlabel\":\"Searchbar_SearchFormbuttonlabel__2Wfk6\",\"SearchForminput\":\"Searchbar_SearchForminput__3vKVY\"};","import { useState } from 'react';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport { toast } from 'react-toastify';\r\nimport styles from './Searchbar.module.css';\r\n\r\n//const styles = { form: { marginBottom: 20 } };\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [image, setImage] = useState('');\r\n\r\n  const handleNameChange = event => {\r\n    setImage(event.currentTarget.value.toLowerCase());\r\n    if (image.trim() === '') {\r\n      return;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (image.trim() === '') {\r\n      toast.error('Введите имя картинки.');\r\n      return;\r\n    }\r\n\r\n    onSubmit(image);\r\n    setImage('');\r\n  };\r\n\r\n  return (\r\n    <header className={styles.searchbar}>\r\n      <form\r\n        className={styles.SearchForm}\r\n        onSubmit={handleSubmit}\r\n        style={styles.form}\r\n      >\r\n        <input\r\n          className={styles.SearchForminput}\r\n          type=\"text\"\r\n          name=\"image\"\r\n          value={image}\r\n          onChange={handleNameChange}\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n        <button type=\"submit\" className={styles.SearchFormbutton}>\r\n          {<ImSearch />}\r\n          <span className={styles.SearchFormbuttonlabel}>Search</span>\r\n        </button>\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\nexport default Searchbar;\r\n","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRootRef = document.querySelector('#modal-root');\r\n\r\nconst Modal = ({ onClose, largeimage }) => {\r\n  useEffect(() => {\r\n    const onEscPress = e => {\r\n      if (e.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', onEscPress);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', onEscPress);\r\n    };\r\n  }, [onClose]);\r\n\r\n  const handleBackdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={styles.backdrop} onClick={handleBackdropClick}>\r\n      <div className={styles.modal}>\r\n        <img src={largeimage} alt=\"111\" />\r\n      </div>\r\n    </div>,\r\n    modalRootRef,\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ articles }) => {\r\n  return articles.map(({ id, webformatURL, largeImageURL }) => {\r\n    return (\r\n      <li className={styles.ImageGalleryItem} key={id} a={largeImageURL}>\r\n        <img\r\n          className={styles.ImageGalleryItemimage}\r\n          src={webformatURL}\r\n          alt=\"\"\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n};\r\nexport default ImageGalleryItem;\r\n","import { useState } from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ articles }) => {\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [largeimage, setLargeimage] = useState('');\r\n\r\n  const onClose = () => setOpenModal(false);\r\n\r\n  const getImglarge = e => {\r\n    if (e.target === e.currentTarget) {\r\n      return;\r\n    }\r\n    const openModalGallery = e.target.closest('li').getAttribute('a');\r\n    setOpenModal(true);\r\n    setLargeimage(openModalGallery);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ul className={styles.ImageGallery} onClick={getImglarge}>\r\n        <ImageGalleryItem articles={articles} />\r\n      </ul>\r\n      {openModal && <Modal onClose={onClose} largeimage={largeimage} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import styles from './Button.module.css';\r\n\r\nconst Button = ({ onClick, image }) => (\r\n  <button type=\"button\" onClick={onClick} className={styles.Button}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import axios from 'axios';\r\n\r\nconst BASE_URL = `https://pixabay.com/api/`;\r\nconst API_KEY = `24480500-399700875c121f80bab96d725`;\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nconst fetchData = async (image, page = 1) => {\r\n  const queryOptions = new URLSearchParams({\r\n    key: API_KEY,\r\n    q: image,\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n    safesearch: true,\r\n    per_page: 12,\r\n    page,\r\n  });\r\n  try {\r\n    const { data } = await axios.get('?' + queryOptions.toString());\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\nexport default fetchData;\r\n\r\n//    return axios\r\n//     .get(`https://pixabay.com/api/?q=${searchQuery}&page=1&key=24480500-399700875c121f80bab96d725&image_type=photo&orientation=horizontal&per_page=12`)\r\n//    .then(response => response.data.hits);\r\n//  };\r\n\r\n// export default fetchData;\r\n\r\n// `https://pixabay.com/api/?q=${searchQuery}&page=1&key=24480500-399700875c121f80bab96d725&image_type=photo&orientation=horizontal&per_page=12`\r\n","import { useState, useEffect } from 'react';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport Modal from '../Modal/Modal';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport Button from '../Button/Button';\r\nimport styles from './App.module.css';\r\nimport fetchData from '../servises/articlesApi';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nconst App = ({ openModal }) => {\r\n  const [articles, setArticles] = useState([]);\r\n  const [loader, setLoader] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [image, setImage] = useState('');\r\n  const [page, setPage] = useState(1);\r\n\r\n  const handleFormSubmit = image => {\r\n    setImage(image);\r\n    console.log(image);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (image === '') return;\r\n    apiRequest();\r\n  }, [image, page]);\r\n\r\n  const nextPages = () => {\r\n    setPage(prevPage => prevPage + 1);\r\n  };\r\n\r\n  const apiRequest = async () => {\r\n    setLoader(true);\r\n    try {\r\n      const newArticles = await fetchData(image, page);\r\n      setArticles([...articles, ...newArticles.hits]);\r\n      return newArticles.hits;\r\n    } catch (error) {\r\n      toast.warn(`${error.message}`);\r\n    } finally {\r\n      setLoader(false);\r\n\r\n      if (articles.length === 0 && image === '') {\r\n        toast.error('Картинок ненайдено');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.SearchForminput}>\r\n      <Searchbar onSubmit={handleFormSubmit} />\r\n      {openModal && <Modal img={articles.largeImageURL} />}\r\n      {error && <p>Whoops, something went wrong: {error.message}</p>}\r\n      {loader && (\r\n        <Loader\r\n          type=\"ThreeDots\"\r\n          color=\"#d35050\"\r\n          height={100}\r\n          width={100}\r\n          timeout={3000}\r\n        />\r\n      )}\r\n      {articles.length > 0 && <ImageGallery articles={articles} />}\r\n      {articles.length > 0 && <Button image={image} onClick={nextPages} />}\r\n      <ToastContainer autoClose={2000} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}